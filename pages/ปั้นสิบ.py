from ultralytics import YOLO
import cv2
import streamlit as st
from PIL import Image
import numpy as np
from dotenv import load_dotenv
import os

# Load variables from .env
load_dotenv()
header_img_path = os.getenv("HEADER_IMG_PATH")
kanom_img_path = os.getenv("COMPONENT_149_PATH1")

# Set page configuration
st.set_page_config(
    page_title="‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡πâ‡∏ô‡∏™‡∏¥‡∏ö: ‡∏Ç‡∏ô‡∏°‡πÑ‡∏ó‡∏¢‡πÇ‡∏ö‡∏£‡∏≤‡∏ì ‡πÑ‡∏™‡πâ‡πÅ‡∏ô‡πà‡∏ô ‡πÅ‡∏õ‡πâ‡∏á‡∏Å‡∏£‡∏≠‡∏ö ‡∏´‡∏≠‡∏° ‡∏≠‡∏£‡πà‡∏≠‡∏¢",
    page_icon="ü•ü",
    layout="wide",
    initial_sidebar_state="expanded",
)

# Display main image and title
st.image(image=header_img_path)
st.title("‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡πâ‡∏ô‡∏™‡∏¥‡∏ö: ‡∏Ç‡∏ô‡∏°‡πÑ‡∏ó‡∏¢‡πÇ‡∏ö‡∏£‡∏≤‡∏ì ‡πÑ‡∏™‡πâ‡πÅ‡∏ô‡πà‡∏ô ‡πÅ‡∏õ‡πâ‡∏á‡∏Å‡∏£‡∏≠‡∏ö ‡∏´‡∏≠‡∏° ‡∏≠‡∏£‡πà‡∏≠‡∏¢")
st.image(kanom_img_path)
st.title("‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤")
with st.expander("‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤"):
    st.markdown(
        """
        ‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡πâ‡∏ô‡∏™‡∏¥‡∏ö ‡∏´‡∏£‡∏∑‡∏≠ ‡∏õ‡∏±‡πâ‡∏ô‡∏Ç‡∏•‡∏¥‡∏ö ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏ô‡∏°‡πÑ‡∏ó‡∏¢‡πÇ‡∏ö‡∏£‡∏≤‡∏ì‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏°‡∏≤‡∏ä‡πâ‡∏≤‡∏ô‡∏≤‡∏ô ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏ï‡πâ‡∏ô‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ó‡∏≤‡∏á‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ ‡∏ô‡∏¥‡∏¢‡∏°‡∏ó‡∏≥‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏°‡∏á‡∏Ñ‡∏• ‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏û‡∏ì‡∏µ ‡πÅ‡∏•‡∏∞‡∏ó‡∏≤‡∏ô‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡πÄ‡∏≠‡∏Å‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ô‡∏°‡∏ä‡∏ô‡∏¥‡∏î‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ ‡πÅ‡∏õ‡πâ‡∏á‡∏ö‡∏≤‡∏á‡∏Å‡∏£‡∏≠‡∏ö ‡∏´‡πà‡∏≠‡πÑ‡∏™‡πâ‡πÅ‡∏ô‡πà‡∏ô ‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏™‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏≤‡∏ô
        """
    )

st.title("‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥")
with st.expander("‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥"):
    st.markdown(
        """
        ### ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡πÅ‡∏õ‡πâ‡∏á:
        - ‡πÅ‡∏õ‡πâ‡∏á‡∏™‡∏≤‡∏•‡∏µ‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå 2 ‡∏ñ‡πâ‡∏ß‡∏¢‡∏ï‡∏ß‡∏á
        - ‡πÅ‡∏õ‡πâ‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏à‡πâ‡∏≤ 1 ‡∏ñ‡πâ‡∏ß‡∏¢‡∏ï‡∏ß‡∏á
        - ‡∏Å‡∏∞‡∏ó‡∏¥ 1 ‡∏ñ‡πâ‡∏ß‡∏¢‡∏ï‡∏ß‡∏á
        - ‡πÑ‡∏Ç‡πà‡πÑ‡∏Å‡πà 1 ‡∏ü‡∏≠‡∏á
        - ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä 1/2 ‡∏ñ‡πâ‡∏ß‡∏¢‡∏ï‡∏ß‡∏á
        - ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ó‡∏£‡∏≤‡∏¢ 1/4 ‡∏ä‡πâ‡∏≠‡∏ô‡∏ä‡∏≤
        - ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠ 1/4 ‡∏ä‡πâ‡∏≠‡∏ô‡∏ä‡∏≤
        - ‡∏ô‡πâ‡∏≥‡∏õ‡∏π‡∏ô‡πÉ‡∏™ 1 ‡∏ä‡πâ‡∏≠‡∏ô‡πÇ‡∏ï‡πä‡∏∞

        ### ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡πÑ‡∏™‡πâ:
        - ‡πÑ‡∏™‡πâ‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö 200 ‡∏Å‡∏£‡∏±‡∏°
        - ‡∏Å‡∏∏‡πâ‡∏á‡∏™‡∏î 100 ‡∏Å‡∏£‡∏±‡∏°
        - ‡∏ñ‡∏±‡πà‡∏ß‡∏•‡∏¥‡∏™‡∏á‡∏Ñ‡∏±‡πà‡∏ß‡∏ö‡∏î 1/2 ‡∏ñ‡πâ‡∏ß‡∏¢‡∏ï‡∏ß‡∏á
        - ‡∏´‡∏≠‡∏°‡πÅ‡∏î‡∏á‡∏ã‡∏≠‡∏¢ 1/4 ‡∏ñ‡πâ‡∏ß‡∏¢‡∏ï‡∏ß‡∏á
        - ‡∏ï‡πâ‡∏ô‡∏´‡∏≠‡∏°‡∏ã‡∏≠‡∏¢ 1/4 ‡∏ñ‡πâ‡∏ß‡∏¢‡∏ï‡∏ß‡∏á
        - ‡∏ú‡∏±‡∏Å‡∏ä‡∏µ‡∏ã‡∏≠‡∏¢ 1/4 ‡∏ñ‡πâ‡∏ß‡∏¢‡∏ï‡∏ß‡∏á
        - ‡∏û‡∏£‡∏¥‡∏Å‡πÑ‡∏ó‡∏¢‡∏î‡∏≥‡∏õ‡πà‡∏ô 1/2 ‡∏ä‡πâ‡∏≠‡∏ô‡∏ä‡∏≤
        - ‡∏ã‡∏µ‡∏≠‡∏¥‡πä‡∏ß‡∏Ç‡∏≤‡∏ß 1 ‡∏ä‡πâ‡∏≠‡∏ô‡πÇ‡∏ï‡πä‡∏∞
        - ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏õ‡∏µ‡πä‡∏ö 1 ‡∏ä‡πâ‡∏≠‡∏ô‡πÇ‡∏ï‡πä‡∏∞
        - ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä 2 ‡∏ä‡πâ‡∏≠‡∏ô‡πÇ‡∏ï‡πä‡∏∞

        ### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥‡πÅ‡∏õ‡πâ‡∏á:
        1. ‡∏£‡πà‡∏≠‡∏ô‡πÅ‡∏õ‡πâ‡∏á‡∏™‡∏≤‡∏•‡∏µ‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡πâ‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏à‡πâ‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏≤‡∏°
        2. ‡πÉ‡∏™‡πà‡∏Å‡∏∞‡∏ó‡∏¥ ‡πÑ‡∏Ç‡πà‡πÑ‡∏Å‡πà ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ó‡∏£‡∏≤‡∏¢ ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠ ‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥‡∏õ‡∏π‡∏ô‡πÉ‡∏™‡∏•‡∏á‡πÉ‡∏ô‡∏ä‡∏≤‡∏°
        3. ‡∏Ñ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡∏à‡∏ô‡πÅ‡∏õ‡πâ‡∏á‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô ‡∏ô‡∏∏‡πà‡∏° ‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î‡∏°‡∏∑‡∏≠
        4. ‡∏´‡πà‡∏≠‡πÅ‡∏õ‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏û‡∏±‡∏Å‡πÑ‡∏ß‡πâ 30 ‡∏ô‡∏≤‡∏ó‡∏µ

        ### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥‡πÑ‡∏™‡πâ:
        1. ‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏£‡∏∞‡∏ó‡∏∞ ‡πÉ‡∏™‡πà‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä 1 ‡∏ä‡πâ‡∏≠‡∏ô‡πÇ‡∏ï‡πä‡∏∞
        2. ‡πÉ‡∏™‡πà‡∏´‡∏≠‡∏°‡πÅ‡∏î‡∏á‡∏ã‡∏≠‡∏¢‡∏•‡∏á‡πÑ‡∏õ‡πÄ‡∏à‡∏µ‡∏¢‡∏ß‡∏à‡∏ô‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á
        3. ‡πÉ‡∏™‡πà‡∏Å‡∏∏‡πâ‡∏á‡∏™‡∏±‡∏ö‡∏•‡∏á‡πÑ‡∏õ‡∏ú‡∏±‡∏î‡∏à‡∏ô‡∏™‡∏∏‡∏Å
        4. ‡πÉ‡∏™‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö‡∏•‡∏á‡πÑ‡∏õ‡∏ú‡∏±‡∏î‡∏à‡∏ô‡∏™‡∏∏‡∏Å
        5. ‡πÉ‡∏™‡πà‡∏ñ‡∏±‡πà‡∏ß‡∏•‡∏¥‡∏™‡∏á‡∏Ñ‡∏±‡πà‡∏ß‡∏ö‡∏î ‡∏ï‡πâ‡∏ô‡∏´‡∏≠‡∏°‡∏ã‡∏≠‡∏¢ ‡∏ú‡∏±‡∏Å‡∏ä‡∏µ‡∏ã‡∏≠‡∏¢ ‡∏û‡∏£‡∏¥‡∏Å‡πÑ‡∏ó‡∏¢‡∏î‡∏≥‡∏õ‡πà‡∏ô ‡∏ã‡∏µ‡∏≠‡∏¥‡πä‡∏ß‡∏Ç‡∏≤‡∏ß ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏õ‡∏µ‡πä‡∏ö ‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä 1 ‡∏ä‡πâ‡∏≠‡∏ô‡πÇ‡∏ï‡πä‡∏∞‡∏•‡∏á‡πÑ‡∏õ‡∏ú‡∏±‡∏î‡∏à‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô
        6. ‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏™‡∏ï‡∏≤‡∏°‡∏ä‡∏≠‡∏ö
        7. ‡∏ï‡∏±‡∏Å‡πÑ‡∏™‡πâ‡∏û‡∏±‡∏Å‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏¢‡πá‡∏ô

        ### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö:
        1. ‡πÅ‡∏ö‡πà‡∏á‡πÅ‡∏õ‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏°‡πÜ ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 1 ‡∏ä‡πâ‡∏≠‡∏ô‡πÇ‡∏ï‡πä‡∏∞
        2. ‡∏Ñ‡∏•‡∏∂‡∏á‡πÅ‡∏õ‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ú‡πà‡∏ô‡∏ö‡∏≤‡∏á‡∏Å‡∏•‡∏°
        3. ‡πÉ‡∏™‡πà‡πÑ‡∏™‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á
        4. ‡∏û‡∏±‡∏ö‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏°‡πâ‡∏ß‡∏ô‡∏ö‡∏¥‡∏î‡∏£‡∏¥‡∏°‡πÅ‡∏õ‡πâ‡∏á‡∏ï‡∏£‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏ö‡∏Å‡∏±‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏≤‡∏¢‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏ß
        5. ‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏£‡∏∞‡∏ó‡∏∞‡πÉ‡∏™‡πà‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä
        6. ‡∏ô‡∏≥‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡πâ‡∏ô‡∏™‡∏¥‡∏ö‡πÑ‡∏õ‡∏ó‡∏≠‡∏î‡∏à‡∏ô‡∏™‡∏∏‡∏Å‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏ö
        7. ‡∏û‡∏±‡∏Å‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡∏™‡∏∞‡πÄ‡∏î‡πá‡∏î‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô
        8. ‡∏à‡∏±‡∏î‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü
        """
    )

st.title("‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏")
with st.expander("‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏"):
    st.markdown(
        """
        - ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏™‡πâ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ä‡∏≠‡∏ö ‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏™‡πâ‡∏õ‡∏•‡∏≤ ‡πÑ‡∏™‡πâ‡πÑ‡∏Å‡πà ‡πÑ‡∏™‡πâ‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡πÑ‡∏™‡πâ‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î
        - ‡∏ó‡∏≤‡πÑ‡∏Ç‡πà‡πÅ‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≤‡πÅ‡∏õ‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≥‡πÑ‡∏õ‡∏ó‡∏≠‡∏î ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡∏ô‡∏°‡∏°‡∏µ‡∏™‡∏µ‡∏™‡∏ß‡∏¢
        - ‡∏ó‡∏≠‡∏î‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡πâ‡∏ô‡∏™‡∏¥‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡πÑ‡∏ü‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡∏ô‡∏°‡∏™‡∏∏‡∏Å‡∏ó‡∏±‡πà‡∏ß ‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏°‡πâ
        - ‡∏ó‡∏≤‡∏ô‡∏£‡πâ‡∏≠‡∏ô‡πÜ ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏≠‡∏£‡πà‡∏≠‡∏¢
        """
    )

st.page_link("Home.py", label="Home", icon="‚Ü©Ô∏è")
